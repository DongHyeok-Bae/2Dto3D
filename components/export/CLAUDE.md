# components/export - 내보내기 UI 컴포넌트

**생성일**: 2024-11-22
**Phase**: 6 - 편집 및 내보내기 기능

## 📌 목적
데이터 내보내기 및 프로젝트 관리를 위한 UI 컴포넌트 제공

## 📁 컴포넌트 구조

### `ExportPanel.tsx`
데이터 내보내기 패널 컴포넌트

#### Props:
```typescript
{
  masterJSON?: MasterJSON | null  // 내보낼 Master JSON
  onClose?: () => void            // 패널 닫기 콜백
}
```

#### 기능:

**내보내기 형식:**
- JSON: Master JSON 데이터
- CSV: 표 형식 (벽/공간/문/창문)
- IFC-like: BIM 교환 형식
- glTF/GLB: 3D 모델 (JSON/Binary)
- OBJ: 범용 3D 모델
- STL: 3D 프린팅
- Project: 전체 프로젝트
- Image: 원본 이미지

**CSV 타입 선택:**
- walls: 벽 데이터
- spaces: 공간 데이터
- doors: 문 데이터
- windows: 창문 데이터

**UI 구성:**
- 3×3 그리드 형식 선택 버튼
- 아이콘 + 라벨 + 설명
- CSV 선택 시 추가 옵션
- 상태 메시지 (성공/에러)
- 형식별 상세 정보 표시

### `ProjectManager.tsx`
프로젝트 저장/불러오기 컴포넌트

#### Props:
```typescript
{
  onProjectLoad?: (project: ProjectData) => void  // 프로젝트 로드 콜백
}
```

#### 기능:

**프로젝트 저장:**
- 프로젝트 이름 입력
- 설명 입력 (선택)
- .2d3d 파일로 다운로드
- 전체 데이터 포함 (이미지 + 결과)

**프로젝트 불러오기:**
- 파일 선택 (input[type=file])
- .2d3d 또는 .json 형식
- 자동 Store 업데이트
- 성공/에러 피드백

**상태 표시:**
- 이미지 로드 여부
- 완료된 Phase 수
- 저장 가능 상태

**UI 구성:**
- 저장/불러오기 버튼 (나란히)
- 저장 폼 (토글)
- 프로젝트 정보 표시
- 로딩 상태 표시

## 🎨 UI/UX 특징

### ExportPanel

**형식 선택:**
```
┌─────────────────────────────────────────┐
│  📄 JSON       📊 CSV        🏗️ IFC      │
│  Master JSON   표 형식       BIM 교환    │
├─────────────────────────────────────────┤
│  🎨 glTF       🎯 GLB        📦 OBJ      │
│  3D (JSON)     3D (Binary)   3D 모델     │
├─────────────────────────────────────────┤
│  🖨️ STL        💾 Project    🖼️ Image    │
│  3D 프린팅     전체 프로젝트  원본 이미지  │
└─────────────────────────────────────────┘
```

**CSV 옵션 (선택된 경우):**
```
┌──────────────┬──────────────┐
│ 벽 데이터    │ 공간 데이터   │
├──────────────┼──────────────┤
│ 문 데이터    │ 창문 데이터   │
└──────────────┴──────────────┘
```

### ProjectManager

**기본 상태:**
```
┌──────────────┬──────────────┐
│ 💾 프로젝트  │ 📂 프로젝트  │
│    저장      │   불러오기    │
└──────────────┴──────────────┘
```

**저장 폼 (확장):**
```
┌─────────────────────────────┐
│ 프로젝트 정보               │
├─────────────────────────────┤
│ 이름: [_______________]     │
│ 설명: [_______________]     │
│       [_______________]     │
├─────────────────────────────┤
│ [저장하기]  [취소]          │
└─────────────────────────────┘
```

## 🔄 동작 흐름

### 내보내기 프로세스
1. 형식 선택 (9개 옵션)
2. CSV인 경우 타입 선택
3. "내보내기" 버튼 클릭
4. 진행 상태 표시
5. 파일 다운로드
6. 성공 메시지 표시

### 프로젝트 저장
1. "프로젝트 저장" 클릭
2. 폼 확장
3. 이름/설명 입력
4. "저장하기" 클릭
5. .2d3d 파일 다운로드

### 프로젝트 불러오기
1. "프로젝트 불러오기" 클릭
2. 파일 선택 다이얼로그
3. .2d3d 파일 선택
4. 로딩 표시
5. Store 업데이트
6. 성공 알림

## 🚀 사용 예시

### ExportPanel 사용
```typescript
<ExportPanel
  masterJSON={results.phase7}
  onClose={() => setShowExport(false)}
/>
```

### ProjectManager 사용
```typescript
<ProjectManager
  onProjectLoad={(project) => {
    console.log('Loaded:', project.name)
    // UI 업데이트 또는 탭 전환
  }}
/>
```

## 📋 개선 사항
- 일괄 내보내기 (모든 형식)
- 내보내기 프리셋
- 클라우드 저장 UI
- 프로젝트 목록 뷰
- 드래그 앤 드롭 불러오기